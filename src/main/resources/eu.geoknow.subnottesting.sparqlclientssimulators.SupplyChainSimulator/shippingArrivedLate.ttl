@prefix spin: <http://spinrdf.org/sp/> .
@prefix foaf: <http://xmlns.com/foaf/0.1/> .
@prefix rsine: <http://lod2.eu/rsine/> .
@prefix http: <http://www.w3.org/2011/http#> .
@prefix dcterms: <http://purl.org/dc/terms/>.

<http://example.org/shipping_late> a rsine:Subscription;
   dcterms:description "One or more shippings arrived late";
   rsine:query [
        spin:text "PREFIX cs:<http://purl.org/vocab/changeset/schema#>
            PREFIX spin:<http://spinrdf.org/sp/>
            PREFIX rdf:<http://www.w3.org/1999/02/22-rdf-syntax-ns#>
            PREFIX skos:<http://www.w3.org/2004/02/skos/core#>
            PREFIX sc: <http://www.xybermotive.com/ontology/> 
            SELECT * WHERE {
                ?cs a cs:ChangeSet .
                ?cs cs:createdDate ?csdate .
                ?cs cs:addition ?addition .
                ?addition rdf:subject ?concept .
                ?addition rdf:predicate rdf:type .
                ?addition rdf:object sc:Shipping
            }";
             rsine:condition [
                spin:text "PREFIX sc: <http://www.xybermotive.com/ontology/> 
                           ASK {
                              ?concept sc:order ?order .
                              ?order sc:dueDate ?dueDate 
                              ?concept sc:date ?actualDate .
                              FILTER(?actualDate > ?dueDate);
                           }";
                rsine:expect "true"^^xsd:boolean;
             ];
        ];
        
    rsine:notifier [
        a rsine:httpNotifier ;
        http:methodName "POST";
        http:absoluteURI <http://localhost:8080/subnot-testing/notify> 
    ].